if(!Object['hasOwnProperty']('values')){Object['values']=function(a){return Object['keys'](a)['map'](function(b){return a[b];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(a,b){b=b||0x0;return this['indexOf'](a,b)===b;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(a,b){if(!(a in this['_handlers']))this['_handlers'][a]=[];this['_handlers'][a]['push'](b);};TDV['EventDispatcher']['prototype']['unbind']=function(a,b){if(a in this['_handlers']){var c=this['_handlers'][a]['indexOf'](b);if(c!=-0x1)this['_handlers'][a]['splice'](c,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(a){if(typeof Event==='function')return new Event(a);var b=document['createEvent']('Event');b['initEvent'](a,!![],!![]);return b;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(a){if(a['type']in this['_handlers']){var b=this['_handlers'][a['type']];for(var c=0x0;c<b['length'];++c){b[c]['call'](window,a);if(a['defaultPrevented'])break;}}};TDV['Tour']=function(a,b){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=a;this['_devicesUrl']=b;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var a=this['_getRootPlayer']();if(a!==undefined){a['stopTextToSpeech']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var a=function(c){if(c['name']=='begin'){var d=c['data']['source']['get']('camera');if(d&&d['get']('initialSequence')&&d['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(c['sourceClassName']=='MediaAudio'||this['_isInitialized'])return;this['_isInitialized']=!![];b['unbind']('preloadMediaShow',a,this,!![]);b['unbindOnObjectsOf']('PlayListItem','begin',a,this,!![]);b['unbind']('stateChange',a,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var b=this['player']=TDV['PlayerAPI']['create'](this['_settings']);b['bind']('preloadMediaShow',a,this,!![]);b['bind']('stateChange',a,this,!![]);b['bindOnObjectsOf']('PlayListItem','begin',a,this,!![]);b['bindOnObject']('rootPlayer','start',function(c){var d=c['data']['source'];d['get']('data')['tour']=this;var f=window['navigator']['language']||window['navigator']['userLanguage']||'en';var g=d['get']('data')['locales']||{};var h=d['get']('data')['defaultLocale']||f;var j=this['locManager']=new TDV['Tour']['LocaleManager'](d,g,h,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));d['get']('data')['localeManager']=j;var k=function(){var v=d['get']('data');if(!('updateText'in v)){v['updateText']=function(A){var B=A[0x0]['split']('.');if(B['length']==0x2){var C=j['trans']['apply'](j,A);var D=A[0x1]||d;if(typeof D=='string'){var E=D['split']('.');D=d[E['shift']()];for(var F=0x0;F<E['length']-0x1;++F){if(D!=undefined)D='get'in D?D['get'](E[F]):D[E[F]];}if(D!=undefined){var G=E[E['length']-0x1];if(Array['isArray'](D)){for(var H=0x0;H<D['length'];++H){this['setValue'](D[H],G,C);}}else this['setValue'](D,G,C);}}else{D=D[B[0x0]];this['setValue'](D,B[0x1],C);}}}['bind'](d);}var w=v['translateObjs'];var x=v['updateText'];var y=function(){for(var z in w){x(w[z]);}};y();y();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],k['bind'](this));var l=this['_getParams'](location['search']['substr'](0x1));l=d['mixObject'](l,this['_getParams'](location['hash']['substr'](0x1)));var m=l['language'];if(!m||!this['locManager']['hasLocale'](l['language'])){if(d['get']('data')['forceDefaultLocale'])m=h;else m=f;}this['setLocale'](m);var n=d['getByClassName']('HotspotPanoramaOverlay');for(var p=0x0,q=n['length'];p<q;++p){var r=n[p];var s=r['get']('data');if(!s)r['set']('data',s={});s['defaultEnabledValue']=r['get']('enabled');}this['_setMediaFromURL'](l);this['_updateParams'](l,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var t=function(){if(!d['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload']();return!![];}return![];};if(t['call'](this))return;var u=d['getByClassName']('PanoramaPlayer');for(var p=0x0;p<u['length'];++p){u[p]['bind']('viewModeChange',t,this);}d['bind']('orientationChange',t,this);}this['_onHashChange']=function(){var v=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](v,![]);this['_updateParams'](v,!![]);}['bind'](this);this['_onKeyUp']=function(v){if(v['ctrlKey']&&v['shiftKey']&&v['key']['toLowerCase']()=='u'){this['updateDeepLink']();d['copyToClipboard'](location['href']);}}['bind'](this);this['_onBeforeUnload']=function(v){d['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);d['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);d['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},d,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,!![]);window['addEventListener']('message',function(c){var d=c['data'];if(d=='pauseTour')d='pause';else if(d=='resumeTour')d='resume';else return;this[d]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var a=function(k){var l=k['source'];if(!this['_isPaused'])l['unbind']('stateChange',a,this);else if(l['get']('state')=='playing'){l['pause']();}};var b=this['player']['getByClassName']('PlayList');for(var c=0x0,d=b['length'];c<d;c++){var e=b[c];var f=e['get']('selectedIndex');if(f!=-0x1){var g=e['get']('items')[f];var h=g['get']('player');if(h&&h['pause']){if(h['get']('state')!='playing')h['bind']('stateChange',a,this);else h['pause']();this['_playersPlayingTmp']['push'](h);}}}var j=this['_getRootPlayer']();j['pauseGlobalAudios']();j['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a=this['_playersPlayingTmp']['pop']();a['play']();}var b=this['_getRootPlayer']();b['resumeGlobalAudios']();b['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(){this['_orientation']=this['_getOrientation']();this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a){var b=this['_getRootPlayer']();if(b!==undefined){return b['setMainMediaByIndex'](a);}};TDV['Tour']['prototype']['setMediaByName']=function(a){var b=this['_getRootPlayer']();if(b!==undefined){return b['setMainMediaByName'](a);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(a,b,c){var d=this['_getRootPlayer']();if(!c)c='click';if(d!==undefined&&c){var e=d['getPanoramaOverlayByName'](a,b);if(e){d['triggerOverlay'](e,c);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(a,b){var c=this['_getRootPlayer']();if(c!==undefined){var d=c['getPanoramaOverlayByName'](a['get']('media'),b);if(d){var e=d['get']('class');var f=e=='VideoPanoramaOverlay'||e=='QuadVideoPanoramaOverlay'?d:d['get']('items')[0x0];var g,h;e=f['get']('class');if(e=='QuadVideoPanoramaOverlay'||e=='QuadHotspotPanoramaOverlayImage'){var j=f['get']('vertices');var k=0x0,l=j['length'];g=0x0;h=0x0;while(k<l){var m=j[k++];g+=m['get']('yaw');h+=m['get']('pitch');}g/=0x4;h/=0x4;}else{g=f['get']('yaw');h=f['get']('pitch');}var n=c['getPlayListWithItem'](a);if(n){var o=function(){c['setPanoramaCameraWithSpot'](n,a,g,h);};if(!this['_isInitialized']){var p=function(){a['unbind']('begin',p,this);o();};a['bind']('begin',p,this);}else{o();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(a,b,c){var d=this['_getRootPlayer']();if(d!==undefined){var e=d['getComponentsByTags'](a,c);for(var f=0x0,g=e['length'];f<g;++f){e[f]['set']('visible',b);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(a,b,c){var d=this['_getRootPlayer']();if(d!==undefined){var e=d['getOverlaysByTags'](a,c);d['setOverlaysVisibility'](e,b);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(a,b){var c=this['_getRootPlayer']();if(c!==undefined){var d=c['getActiveMediaWithViewer'](c['getMainViewer']());var e=[];for(var f=0x0,g=a['length'];f<g;++f){var h=c['getPanoramaOverlayByName'](d,a[f]);if(h)e['push'](h);}c['setOverlaysVisibility'](e,b);}};TDV['Tour']['prototype']['updateDeepLink']=function(){var a=this['_getRootPlayer']();if(a!==undefined){a['updateDeepLink'](!![],!![],!![]);}};TDV['Tour']['prototype']['setLocale']=function(a){var b=this['_getRootPlayer']();if(b!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](a);}};TDV['Tour']['prototype']['getLocale']=function(){var a=this['_getRootPlayer']();return a!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var a=document['documentElement'];a['style']['setProperty']('--notch-top','env(safe-area-inset-top)');a['style']['setProperty']('--notch-right','env(safe-area-inset-right)');a['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');a['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var b=window['getComputedStyle'](a);return parseInt(b['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(b['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(b['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(b['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var a=this['_getRootPlayer']();if(a){return a['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(a){var b={};a['split']('&')['forEach'](function(c){var d=c['split']('=')[0x0],e=decodeURIComponent(c['split']('=')[0x1]);b[d['toLowerCase']()]=e;});return b;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var a=document['getElementById']('metaViewport');if(a){var b=this['_devicesUrl'][this['_device']];var c=0x1;if(typeof b=='object'&&this['_orientation']in b&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){c=a['getAttribute']('data-tdv-general-scale')||0.5;}var d=a['getAttribute']('content');d=d['replace'](/initial-scale=(\d+(\.\d+)?)/,function(e,f){return'initial-scale='+c;});a['setAttribute']('content',d);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var a=this['_devicesUrl'][this['_device']];if(typeof a=='object'){if(this['_orientation']in a){a=a[this['_orientation']];}}return a;};TDV['Tour']['prototype']['_getDevice']=function(){var a=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])a=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])a=TDV['Tour']['DEVICE_MOBILE'];}return a;};TDV['Tour']['prototype']['_setMediaFromURL']=function(a){var b=this['_getRootPlayer']();var c=b['getActivePlayerWithViewer'](b['getMainViewer']());var d=c?b['getMediaFromPlayer'](c):undefined;var e=undefined;if('media'in a){var f=a['media'];var g=Number(f);e=isNaN(g)?this['setMediaByName'](f):this['setMediaByIndex'](g-0x1);}else if('media-index'in a){e=this['setMediaByIndex'](parseInt(a['media-index'])-0x1);}else if('media-name'in a){e=this['setMediaByName'](a['media-name']);}if(e==undefined){e=this['setMediaByIndex'](0x0);}if(e!=undefined){var h=e['get']('player');var i=function(){if('trigger-overlay-name'in a){this['triggerOverlayByName'](e['get']('media'),a['trigger-overlay-name'],a['trigger-overlay-event']);}if('focus-overlay-name'in a){this['focusOverlayByName'](e,a['focus-overlay-name']);}else if('yaw'in a||'pitch'in a){var m=parseFloat(a['yaw'])||undefined;var n=parseFloat(a['pitch'])||undefined;var o=b['getPlayListWithItem'](e);if(o)b['setPanoramaCameraWithSpot'](o,e,m,n);}}['bind'](this);if(h){var j=h['get']('viewerArea')==b['getMainViewer']();var k=b['getMediaFromPlayer'](h);if(j&&d==e['get']('media')||!j&&k==e['get']('media')){i();return e!=undefined;}}var l=function(){e['unbind']('begin',l,this);i();};e['bind']('begin',l,b);}return e!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var a=function(){var b=undefined;var c=function(){var f=this['_getRootPlayer']();b=f['get']('lockedOrientation');f['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var d=function(){c();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],d);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],d);this['reload']();}else{c();}var e=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',b);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],e);var f=this['_getScriptUrl']();if(this['_currentScriptUrl']!=f)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],e);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],a);}};TDV['Tour']['prototype']['_updateParams']=function(a,b){if(b&&'language'in a){var c=a['language'];if(this['locManager']['hasLocale'](c)){this['setLocale'](c);}}var d=function(e,f,g){var h=f['split'](',');for(var j=0x0,k=h['length'];j<k;++j){e['call'](this,h[j]['split']('+'),g,'and');}};if('hide-components-tags'in a||'hct'in a)d['call'](this,this['setComponentsVisibilityByTags'],a['hide-components-tags']||a['hct'],![]);if('show-components-tags'in a||'sct'in a)d['call'](this,this['setComponentsVisibilityByTags'],a['show-components-tags']||a['sct'],!![]);if('hide-overlays-tags'in a||'hot'in a)d['call'](this,this['setOverlaysVisibilityByTags'],a['hide-overlays-tags']||a['hot'],![]);if('show-overlays-tags'in a||'sot'in a)d['call'](this,this['setOverlaysVisibilityByTags'],a['show-overlays-tags']||a['sot'],!![]);if('hide-overlays-names'in a||'hon'in a)this['setOverlaysVisibilityByName'](decodeURIComponent(a['hide-overlays-names']||a['hon'])['split'](','),![]);if('show-overlays-names'in a||'son'in a)this['setOverlaysVisibilityByName'](decodeURIComponent(a['show-overlays-names']||a['son'])['split'](','),!![]);};TDV['Tour']['LocaleManager']=function(a,b,c,d){TDV['EventDispatcher']['call'](this);this['rootPlayer']=a;this['locales']={};this['defaultLocale']=c;this['queryParam']=d;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var e in b){this['registerLocale'](e,b[e]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(a,b){var c=[a,a['split']('-')[0x0]];for(var d=0x0;d<c['length'];++d){a=c[d];if(!(a in this['locales'])){this['locales'][a]=b;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(a){delete this['locales'][a];if(a==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(a){return a in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(a){var b=undefined;var c=a['split']('-')[0x0];var d=[a,c];for(var e=0x0;e<d['length'];++e){var g=d[e];if(g in this['locales']){b=g;break;}}if(b===undefined){for(var g in this['locales']){if(g['indexOf'](c)==0x0){b=g;break;}}}if(b===undefined){b=this['defaultLocale'];}var h=this['locales'][b];if(h!==undefined&&this['currentLocaleID']!=b){this['currentLocaleID']=b;var j=this;if(typeof h=='string'){var k=new XMLHttpRequest();k['onreadystatechange']=function(){if(k['readyState']==0x4){if(k['status']==0xc8){j['locales'][b]=j['currentLocaleMap']=j['_parsePropertiesContent'](k['responseText']);j['dispatchEvent'](j['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw h+'\x20can\x27t\x20be\x20loaded';}}};var l=h;if(this['queryParam'])l+=(l['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];k['open']('GET',l);k['send']();}else{this['currentLocaleMap']=h;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(a){var b=this['currentLocaleMap'][a];if(b&&arguments['length']>0x2){var c=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var d=arguments;function e(f){return/^\d+$/['test'](f);}b=b['replace'](/\{\{([\w\.]+)\}\}/g,function(f,g){if(e(g))g=d[parseInt(g)+0x1];else if(c!==undefined)g=c[g];if(typeof g=='string')g=this['currentLocaleMap'][g]||g;else if(typeof g=='function')g=g['call'](this['rootPlayer']);return g!==undefined?g:'';}['bind'](this));}return b;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(a){a=a['replace'](/(^|\n)#[^\n]*/g,'');var b={};var c=a['split']('\x0a');for(var d=0x0,e=c['length'];d<e;++d){var f=c[d]['trim']();if(f['length']==0x0){continue;}var g=f['indexOf']('=');if(g==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d);continue;}var h=f['substr'](0x0,g)['trim']();var j=f['substr'](g+0x1)['trim']();var k;while((k=j['lastIndexOf']('\x5c'))!=-0x1&&k==j['length']-0x1&&++d<e){j=j['substr'](0x0,j['length']-0x2);f=c[d];if(f['length']==0x0)break;j+='\x0a'+f;j=j['trim']();}b[h]=j;}return b;};TDV['Tour']['HistoryData']=function(a){this['playList']=a;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(a){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==a){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],a);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(a,b){for(var c in a){var d=a[c];if(typeof d=='object'&&d!==null)this['assignObjRecursively'](a[c],b[c]||(b[c]={}));else b[c]=d;}return b;};TDV['Tour']['Script']['autotriggerAtStart']=function(a,b,c){var d=function(e){b();if(c==!![])a['unbind']('change',d,this);};a['bind']('change',d,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(a,b,c){var d=function(){e['unbind']('stop',d,this);if(c==g['get']('backgroundColor')&&j==g['get']('backgroundColorRatios')){g['set']('backgroundColor',h);g['set']('backgroundColorRatios',i);}};var e=a['get']('items')[b];var f=e['get']('player');var g=f['get']('viewerArea');var h=g['get']('backgroundColor');var i=g['get']('backgroundColorRatios');var j=[0x0];if(c!=h||j!=i){g['set']('backgroundColor',c);g['set']('backgroundColorRatios',j);e['bind']('stop',d,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(a,b,c){var d=function(){e['unbind']('stop',d,this);if(h==g['get']('backgroundOpacity')){g['set']('opacity',h);}};var e=a['get']('items')[b];var f=e['get']('player');var g=f['get']('viewerArea');var h=g['get']('backgroundOpacity');if(c!=h){g['set']('backgroundOpacity',c);e['bind']('stop',d,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(a,b){var c=a['get']('selectedIndex');if(c>=0x0&&b>=0x0&&c!=b){var d=a['get']('items')[c];var e=a['get']('items')[b];var f=d['get']('player');var g=e['get']('player');if((f['get']('class')=='PanoramaPlayer'||f['get']('class')=='Video360Player')&&(g['get']('class')=='PanoramaPlayer'||g['get']('class')=='Video360Player')){var h=this['cloneCamera'](e['get']('camera'));this['setCameraSameSpotAsMedia'](h,d['get']('media'));var i=h['get']('initialPosition');if(i['get']('yaw')==undefined||i['get']('pitch')==undefined||i['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](e['get']('media'),h);}}};TDV['Tour']['Script']['clone']=function(a,b){var c=this['rootPlayer']['createInstance'](a['get']('class'));var d=a['get']('id');if(d){var e=d+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);c['set']('id',e);this[e]=c;}for(var f=0x0;f<b['length'];++f){var g=b[f];var h=a['get'](g);if(h!=null)c['set'](g,h);}return c;};TDV['Tour']['Script']['cloneBindings']=function(a,b,c){var d=a['getBindings'](c);for(var e=0x0;e<d['length'];++e){var g=d[e];if(typeof g=='string')g=new Function('event',g);b['bind'](c,g,this);}};TDV['Tour']['Script']['cloneCamera']=function(a){var b=this['clone'](a,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var c=['initialSequence','idleSequence'];for(var d=0x0;d<c['length'];++d){var e=c[d];var g=a['get'](e);if(g){var h=this['clone'](g,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);b['set'](e,h);var k=g['get']('movements');var l=[];var m=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var n=0x0;n<k['length'];++n){var o=k[n];var p=this['clone'](o,m);var q=o['getBindings']('end');if(q['length']>0x0){for(var r=0x0;r<q['length'];++r){var s=q[r];if(typeof s=='string'){s=s['replace'](a['get']('id'),b['get']('id'));s=new Function('event',s);p['bind']('end',s,this);}}}l['push'](p);}h['set']('movements',l);}}return b;};TDV['Tour']['Script']['copyObjRecursively']=function(a){var b={};for(var c in a){var d=a[c];if(typeof d=='object'&&d!==null)b[c]=this['copyObjRecursively'](a[c]);else b[c]=d;}return b;};TDV['Tour']['Script']['copyToClipboard']=function(a){if(navigator['clipboard']){navigator['clipboard']['writeText'](a);}else{var b=document['createElement']('textarea');b['value']=a;b['style']['position']='fixed';document['body']['appendChild'](b);b['focus']();b['select']();try{document['execCommand']('copy');}catch(c){}document['body']['removeChild'](b);}};TDV['Tour']['Script']['executeFunctionWhenChange']=function(a,b,c,d){var e=undefined;var f=function(i){if(i['data']['previousSelectedIndex']==b){if(d)d['call'](this);if(c&&e)e['unbind']('end',c,this);a['unbind']('change',f,this);}};if(c){var g=a['get']('items')[b];if(g['get']('class')=='PanoramaPlayListItem'){var h=g['get']('camera');if(h!=undefined)e=h['get']('initialSequence');if(e==undefined)e=h['get']('idleSequence');}else{e=g['get']('media');}if(e){e['bind']('end',c,this);}}a['bind']('change',f,this);};TDV['Tour']['Script']['executeJS']=function(a){try{eval(a);}catch(b){console['log']('Javascript\x20error:\x20'+b);console['log']('\x20\x20\x20code:\x20'+a);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(a){var b=a['get']('buttonPlayPause');if(typeof b!=='undefined'&&a['get']('state')=='playing'){if(!Array['isArray'](b))b=[b];for(var c=0x0;c<b['length'];++c)b[c]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(a){var b=this['getActivePlayerWithViewer'](a);if(b==undefined){return undefined;}return this['getMediaFromPlayer'](b);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(a){var b=this['getCurrentPlayers']();var c=b['length'];while(c-->0x0){var d=b[c];if(d['get']('viewerArea')==a){var e=d['get']('class');if(e=='PanoramaPlayer'&&(d['get']('panorama')!=undefined||d['get']('video')!=undefined)||(e=='VideoPlayer'||e=='Video360Player')&&d['get']('video')!=undefined||e=='PhotoAlbumPlayer'&&d['get']('photoAlbum')!=undefined||e=='MapPlayer'&&d['get']('map')!=undefined)return d;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(a){var b=undefined;var c=undefined;switch(a['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':b='PanoramaPlayer';c='panorama';break;case'Video360':b='PanoramaPlayer';c='video';break;case'PhotoAlbum':b='PhotoAlbumPlayer';c='photoAlbum';break;case'Map':b='MapPlayer';c='map';break;case'Video':b='VideoPlayer';c='video';break;};if(b!=undefined){var d=this['getByClassName'](b);for(var e=0x0;e<d['length'];++e){var f=d[e];if(f['get'](c)==a){return f;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var a=this['getByClassName']('PanoramaPlayer');a=a['concat'](this['getByClassName']('VideoPlayer'));a=a['concat'](this['getByClassName']('Video360Player'));a=a['concat'](this['getByClassName']('PhotoAlbumPlayer'));a=a['concat'](this['getByClassName']('MapPlayer'));return a;};TDV['Tour']['Script']['getGlobalAudio']=function(a){var b=window['currentGlobalAudios'];if(b!=undefined&&a['get']('id')in b){a=b[a['get']('id')]['audio'];}return a;};TDV['Tour']['Script']['getMediaByName']=function(a){var b=this['getByClassName']('Media');for(var c=0x0,d=b['length'];c<d;++c){var e=b[c];var f=e['get']('data');if(f&&f['label']==a){return e;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(a,b){return this['_getObjectsByTags'](a,['Media'],'tags2Media',b);};TDV['Tour']['Script']['getAudioByTags']=function(a,b){return this['_getObjectsByTags'](a,['Audio'],'tags2Media',b);};TDV['Tour']['Script']['getOverlaysByTags']=function(a,b){return this['_getObjectsByTags'](a,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'],'tags2Overlays',b);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(a){var b=this['get']('data');var c='groupname2Overlays';var d=b[c];if(!d){var e=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];b[c]=d={};for(var f=0x0;f<e['length'];++f){var g=e[f];var h=this['getByClassName'](g);for(var j=0x0,k=h['length'];j<k;++j){var l=h[j];var m=l['get']('data');if(m&&m['group']){var n=d[m['group']];if(!n)d[m['group']]=n=[];n['push'](l);}}}}return d[a]||[];};TDV['Tour']['Script']['getRootOverlay']=function(a){var b=a['get']('class');var c=b['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var d=b['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(c||d){var e=this['get']('data');var f='overlays';var g=e[f];if(!g){var h=['HotspotPanoramaOverlay'];g=[];for(var k=0x0;k<h['length'];++k){var l=h[k];g=g['concat'](this['getByClassName'](l));}e[f]=g;}var m=c?'areas':'items';for(var n=0x0,o=g['length'];n<o;++n){var p=g[n];var q=p['get'](m);if(q){for(var r=0x0;r<q['length'];++r){if(q[r]==a)return p;}}}}return a;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(a){var b=this['getOverlaysByGroupname'](a);if(b['length']>0x1){b['sort'](function(j,k){var l=j['get']('data')['groupIndex'];var m=k['get']('data')['groupIndex'];return l-m;});for(var c=0x0,d=b['length'];c<d;++c){var e=b[c];var f=b[(c+0x1)%d];var g=e['get']('class');var h=e;if(g=='HotspotPanoramaOverlay'){h=e['get']('areas')[0x0];}h['bind']('click',function(j,k){this['setOverlaysVisibility']([j],![]);this['setOverlaysVisibility']([k],!![]);}['bind'](this,e,f),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(a,b){return this['_getObjectsByTags'](a,['UIComponent'],'tags2Components',b);};TDV['Tour']['Script']['_getObjectsByTags']=function(a,b,c,d){var e=this['get']('data');var f=e[c];if(!f){e[c]=f={};for(var g=0x0;g<b['length'];++g){var h=b[g];var k=this['getByClassName'](h);for(var m=0x0,o=k['length'];m<o;++m){var q=k[m];var r=q['get']('data');if(r&&r['tags']){var s=r['tags'];for(var v=0x0,w=s['length'];v<w;++v){var x=s[v];if(x in f)f[x]['push'](q);else f[x]=[q];}}}}}var y=undefined;d=d||'and';for(var m=0x0,o=a['length'];m<o;++m){var A=f[a[m]];if(!A)continue;if(!y)y=A['concat']();else{if(d=='and'){for(var v=y['length']-0x1;v>=0x0;--v){if(A['indexOf'](y[v])==-0x1)y['splice'](v,0x1);}}else if(d=='or'){for(var v=A['length']-0x1;v>=0x0;--v){var q=A[v];if(y['indexOf'](q)==-0x1)y['push'](q);}}}}return y||[];};TDV['Tour']['Script']['getComponentByName']=function(a){var b=this['getByClassName']('UIComponent');for(var c=0x0,d=b['length'];c<d;++c){var e=b[c];var f=e['get']('data');if(f!=undefined&&f['name']==a){return e;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var a='MainViewer';return this[a]||this[a+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(a){switch(a['get']('class')){case'PanoramaPlayer':return a['get']('panorama')||a['get']('video');case'VideoPlayer':case'Video360Player':return a['get']('video');case'PhotoAlbumPlayer':return a['get']('photoAlbum');case'MapPlayer':return a['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(a){switch(a['get']('class')){case'Video360':var b=a['get']('video');if(b instanceof Array){var c=0x0;for(var d=0x0;d<b['length'];d++){var e=b[d];if(e['get']('width')>c)c=e['get']('width');}return c;}else{return e['get']('width');}default:return a['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(a){switch(a['get']('class')){case'Video360':var b=a['get']('video');if(b instanceof Array){var c=0x0;for(var d=0x0;d<b['length'];d++){var e=b[d];if(e['get']('height')>c)c=e['get']('height');}return c;}else{return e['get']('height');}default:return a['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(a){switch(a['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var b=a['get']('overlays')['concat']()||[];var c=a['get']('frames');for(var d=0x0;d<c['length'];++d){b=b['concat'](c[d]['get']('overlays')||[]);}return b;case'Video360':case'Map':return a['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(a,b){var c=this['getOverlays'](a);for(var d=0x0,e=c['length'];d<e;++d){var f=c[d];var g=f['get']('data');if(g!=undefined&&g['label']==b){return f;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(a,b,c){var d=[];var e=this['getOverlays'](a);var f=this['getOverlaysByTags'](b,c);for(var g=0x0,h=e['length'];g<h;++g){var j=e[g];if(f['indexOf'](j)!=-0x1)d['push'](j);}return d;};TDV['Tour']['Script']['getPixels']=function(a){var b=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](a);if(b==undefined){return 0x0;}var c=parseFloat(b[0x1]);var d=b[0x4];var e=this['rootPlayer']['get']('actualWidth')/0x64;var f=this['rootPlayer']['get']('actualHeight')/0x64;switch(d){case'vw':return c*e;case'vh':return c*f;case'vmin':return c*Math['min'](e,f);case'vmax':return c*Math['max'](e,f);default:return c;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(a,b){var c=[];var d=this['getByClassName']('PlayList');for(var e=0x0,f=d['length'];e<f;++e){var g=d[e];if(b&&g['get']('selectedIndex')==-0x1)continue;var h=this['getPlayListItemByMedia'](g,a);if(h!=undefined&&h['get']('player')!=undefined)c['push'](g);}return c;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(a){var b=this['getByClassName']('PlayList');var c=function(e){var f=e['get']('items');for(var g=f['length']-0x1;g>=0x0;--g){var h=f[g];var k=h['get']('player');if(k!==undefined&&k['get']('viewerArea')==a)return!![];}return![];};for(var d=b['length']-0x1;d>=0x0;--d){if(!c(b[d]))b['splice'](d,0x1);}return b;};TDV['Tour']['Script']['getPlayListWithItem']=function(a){var b=this['getByClassName']('PlayList');for(var c=b['length']-0x1;c>=0x0;--c){var d=b[c];var e=d['get']('items');for(var f=e['length']-0x1;f>=0x0;--f){var g=e[f];if(g==a)return d;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(a,b){var c=this['getPlayListsWithMedia'](a,b);return c['length']>0x0?c[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(a,b){var c=a['get']('items');for(var d=0x0,e=c['length'];d<e;++d){var f=c[d];if(f['get']('media')==b)return f;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(a,b){var c=this['getPlayListItemByMedia'](a,b);return c?a['get']('items')['indexOf'](c):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(a,b){var c=function(){switch(a['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(c!=undefined){var d=this['getByClassName'](c);for(var e=d['length']-0x1;e>=0x0;--e){var f=d[e];if(f['get']('media')!=a||b!=undefined&&f['get']('player')!=b){d['splice'](e,0x1);}}return d;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(a){var b=this['get']('data')['history'][a['get']('id')];if(b!=undefined){b['back']();}};TDV['Tour']['Script']['historyGoForward']=function(a){var b=this['get']('data')['history'][a['get']('id')];if(b!=undefined){b['forward']();}};TDV['Tour']['Script']['init']=function(){var a=this['get']('data')['history'];var b=function(l){var m=l['source'];var n=m['get']('selectedIndex');if(n<0x0)return;var o=m['get']('id');if(!a['hasOwnProperty'](o))a[o]=new TDV['Tour']['HistoryData'](m);a[o]['add'](n);};var c=this['getByClassName']('PlayList');for(var e=0x0,f=c['length'];e<f;++e){var g=c[e];g['bind']('change',b,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var h=this['getByClassName']('ThumbnailList');h=h['concat'](this['getByClassName']('ThumbnailGrid'));h=h['concat'](this['getByClassName']('DropDown'));function l(m){var n=m['source']['get']('playList');var o=n['get']('selectedIndex');if(o>=0x0){this['skip3DTransitionOnce'](n['get']('items')[o]['get']('player'));}}for(var e=0x0,j=h['length'];e<j;++e){var k=h[e];k['bind']('change',l,this);}}};TDV['Tour']['Script']['sendAnalyticsData']=function(a,b,c){if(window['dataLayer']){window['dataLayer']['push']({'event':b,'label':c,'category':a});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',a,b,c);}if(window['gtag']){window['gtag']('event',b,{'category':a,'label':c});}};TDV['Tour']['Script']['initAnalytics']=function(){var b=this['getByClassName']('Panorama');b=b['concat'](this['getByClassName']('Video360'));b=b['concat'](this['getByClassName']('Map'));for(var f=0x0,k=b['length'];f<k;++f){var l=b[f];var o=l['get']('data');var p=o?o['label']:'';var q=this['getOverlays'](l);for(var r=0x0,s=q['length'];r<s;++r){var t=q[r];var u=t['get']('data')!=undefined?p+'\x20-\x20'+t['get']('data')['label']:p;switch(t['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var v=t['get']('areas');for(var w=0x0;w<v['length'];++w){v[w]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',u),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':t['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',u),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':t['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',u),this,![]);t['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',u),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':t['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',u),this,![]);break;}}}var x=this['getByClassName']('UIComponent');for(var f=0x0,k=x['length'];f<k;++f){var y=x[f];var A=y['getBindings']('click');if(A['length']>0x0){var B=y['get']('data')['name'];y['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',B),this,![]);}}var C=this['getByClassName']('PlayListItem');var D={};for(var f=0x0,k=C['length'];f<k;++f){var E=C[f];var b=E['get']('media');if(!(b['get']('id')in D)){var o=b['get']('data');E['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',o?o['label']:undefined),this,![]);D[b['get']('id')]=E;}}if(TDV['Remote']!=undefined){var F=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(G){F=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+G);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(G){var H=new Date();H['setTime'](Date['now']()-F);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+G+'\x20Duration:\x20'+H['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(a,b,c){var d={"score":{"window":{"maxWidth":1500,"paddingLeft":20,"paddingTop":20,"description":{"fontFamily":"Arial","textAlign":"center","paddingTop":15,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"fontSize":16,"fontWeight":"normal","fontColor":"#000000"},"paddingBottom":20,"content":{"horizontalAlign":"center","width":"100%"},"paddingRight":20,"backgroundColor":"#ffffff","statsContainer":{"verticalAlign":"middle","contentOpaque":true,"paddingTop":15,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"overflow":"scroll","horizontalAlign":"center","gap":20},"title":{"fontFamily":"Arial","textAlign":"center","paddingTop":50,"paddingBottom":15,"fontSize":50,"fontWeight":"bold","fontColor":"#000000"},"shadowOpacity":0.3,"buttonsContainer":{"width":"100%","verticalAlign":"middle","horizontalAlign":"center","button":{"fontFamily":"Arial","verticalAlign":"middle","backgroundColor":"#009fe3","paddingBottom":12,"paddingTop":12,"paddingRight":25,"paddingLeft":25,"fontSize":15,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"},"paddingBottom":50,"paddingRight":100,"paddingLeft":100,"paddingTop":35,"gap":8},"calification":{"fontFamily":"Arial","width":"100%","verticalAlign":"middle","textAlign":"center","paddingTop":15,"paddingBottom":10,"paddingRight":100,"paddingLeft":100,"fontSize":30,"fontWeight":"bold","fontColor":"#009fe3"},"timeContainer":{"width":"100%","verticalAlign":"middle","paddingTop":10,"paddingBottom":15,"paddingRight":100,"paddingLeft":100,"horizontalAlign":"center","gap":5},"shadowBlurRadius":4,"minWidth":500,"shadow":true,"closeButton":{"iconColor":"#ffffff","iconWidth":18,"width":45,"height":45,"iconHeight":18,"backgroundColor":"#009fe3","iconLineWidth":2},"stats":{"borderRadius":75,"horizontalAlign":"center","borderSize":1,"layout":"vertical","secondaryValue":{"fontFamily":"Arial","fontSize":20,"fontWeight":"bold","fontColor":"#000000"},"height":150,"minWidth":150,"title":{"fontFamily":"Arial","paddingTop":10,"paddingRight":5,"paddingLeft":5,"fontSize":20,"fontWeight":"normal","fontColor":"#000000"},"label":{"fontFamily":"Arial","fontSize":15,"fontWeight":"normal","fontColor":"#000000"},"verticalAlign":"middle","mainValue":{"fontFamily":"Arial","fontSize":40,"fontWeight":"bold","fontColor":"#000000"},"borderColor":"#009fe3","gap":0},"shadowColor":"#000000","horizontalAlign":"center","shadowSpread":4,"shadowVerticalLength":0,"shadowHorizontalLength":0},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"timeout":{"window":{"paddingLeft":80,"paddingTop":45,"icon":{"height":72,"width":62,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC"},"paddingBottom":55,"shadowVerticalLength":0,"paddingRight":80,"backgroundColor":"#ffffff","title":{"fontFamily":"Arial","textAlign":"center","paddingBottom":20,"fontSize":40,"fontWeight":"bold","fontColor":"#000000"},"shadowOpacity":0.3,"buttonsContainer":{"width":"100%","horizontalAlign":"center","gap":10},"shadowBlurRadius":4,"shadowSpread":4,"shadow":true,"shadowColor":"#000000","horizontalAlign":"center","button":{"fontFamily":"Arial","verticalAlign":"middle","backgroundColor":"#009fe3","paddingBottom":12,"paddingTop":12,"paddingRight":25,"paddingLeft":25,"fontSize":15,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"},"gap":15,"shadowHorizontalLength":0},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"question":{"window":{"borderRadius":5,"mediaContainer":{"height":"100%","width":"70%","buttonNext":{"height":37,"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII="},"viewerArea":{"playbackBarHeadShadowSpread":2,"playbackBarLeft":0,"playbackBarRight":0,"playbackBarBorderSize":0,"playbackBarHeadHeight":14,"playbackBarHeadOpacity":1,"backgroundColor":"#e6e6e6","playbackBarProgressOpacity":0.5,"playbackBarHeadBorderRadius":7,"playbackBarHeadShadowColor":"#000000","playbackBarHeadBorderSize":3,"playbackBarBackgroundColor":"#000000","playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadShadowHorizontalLength":0,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadShadowBlurRadius":2,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeight":6,"backgroundOpacity":1,"playbackBarHeadShadow":true,"playbackBarBorderRadius":0,"playbackBarHeadWidth":14,"playbackBarHeadBorderColor":"#ffffff","playbackBarBottom":5,"playbackBarHeadShadowVerticalLength":0},"buttonPrevious":{"height":37,"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC"}},"height":"60%","backgroundColor":"#ffffff","width":"60%","optionsContainer":{"height":"100%","width":"30%","overflow":"scroll","contentOpaque":true,"gap":10},"shadowColor":"#000000","paddingTop":20,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"fontFamily":"Arial","verticalAlign":"middle","borderRadius":3,"paddingTop":10,"paddingBottom":10,"paddingRight":25,"backgroundColor":"#000000","horizontalAlign":"center","fontColor":"#ffffff","backgroundOpacity":0.7,"paddingLeft":25,"fontSize":18,"fontWeight":"bold"}},"paddingLeft":20,"horizontalAlign":"center","paddingBottom":20,"backgroundOpacity":1,"option":{"text":{"fontFamily":"Arial","textAlign":"left","selected":{"fontFamily":"Arial","fontSize":18,"paddingTop":9,"textAlign":"left","fontColor":"#000000"},"verticalAlign":"middle","fontSize":18,"paddingTop":9,"fontColor":"#404040"},"label":{"fontFamily":"Arial","borderRadius":19,"horizontalAlign":"center","pressedBackgroundOpacity":1,"height":38,"backgroundOpacity":0.2,"backgroundColor":"#000000","correct":{"fontFamily":"Arial","borderRadius":19,"horizontalAlign":"center","pressedBackgroundOpacity":1,"height":38,"backgroundOpacity":1,"backgroundColor":"#39b54a","fontColor":"#ffffff","width":38,"verticalAlign":"middle","fontSize":18,"fontWeight":"bold"},"fontColor":"#ffffff","width":38,"incorrect":{"fontFamily":"Arial","borderRadius":19,"horizontalAlign":"center","pressedBackgroundOpacity":1,"height":38,"backgroundOpacity":1,"backgroundColor":"#ed1c24","fontColor":"#ffffff","width":38,"verticalAlign":"middle","fontSize":18,"fontWeight":"bold"},"verticalAlign":"middle","fontSize":18,"fontWeight":"bold"},"gap":10},"title":{"fontFamily":"Arial","textAlign":"center","paddingTop":25,"paddingBottom":40,"paddingRight":50,"paddingLeft":50,"fontSize":20,"fontWeight":"bold","fontColor":"#000000"},"shadowOpacity":0.3,"paddingRight":20,"bodyContainer":{"layout":"horizontal","width":"100%","paddingBottom":30,"height":"100%","paddingRight":30,"paddingLeft":30,"gap":35},"minWidth":500,"shadow":true,"closeButton":{"iconColor":"#FFFFFF","iconWidth":18,"width":45,"height":45,"iconHeight":18,"backgroundColor":"#009FE3","iconLineWidth":2},"shadowBlurRadius":4,"shadowSpread":4,"shadowVerticalLength":0,"shadowHorizontalLength":0},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};a['theme']='theme'in a?this['mixObject'](d,a['theme']):d;var e=a['data']&&a['data']['titlesScale']?a['data']['titlesScale']:0x1;var f=a['data']&&a['data']['bodyScale']?a['data']['bodyScale']:0x1;if(a['player']['get']('isMobile')){var g=this['mixObject'](a['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*f,'paddingLeft':0xa,'paddingRight':0xa}}}});a['theme']=g;}var h=this['get']('data');var i=document['getElementById']('metaViewport');var j=i?/initial-scale=(\d+(\.\d+)?)/['exec'](i['getAttribute']('content')):undefined;var k=j?j[0x1]:0x1;h['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/k,'maxHeight':0x258/k,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};h['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*e,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var l=new TDV['Quiz'](a);l['setMaxListeners'](0x32);if(c===!![]){l['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((l['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+l['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(l['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+l['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)l['finish']();}['bind'](this));}if(b===!![]){l['start']();}h['quiz']=l;h['quizConfig']=a;};TDV['Tour']['Script']['_initSplitViewer']=function(a){function b(){var w=a['get']('actualWidth');m['get']('children')[0x0]['set']('width',w);n['get']('children')[0x0]['set']('width',w);var x=q['get']('left');var y=typeof x=='string'?c(x):x;y+=q['get']('actualWidth')*0.5;m['set']('width',d(y));n['set']('width',d(w-y));}function c(w){return parseFloat(w['replace']('%',''))/0x64*a['get']('actualWidth');}function d(w){return w/a['get']('actualWidth')*0x64+'%';}function e(w){f(w['source']);}function f(w){var x=w==s?r:s;if(t&&w!=t||!w||!x)return;var y=x['get']('camera')['get']('initialPosition')['get']('yaw')-w['get']('camera')['get']('initialPosition')['get']('yaw');x['setPosition'](w['get']('yaw')+y,w['get']('pitch'),w['get']('roll'),w['get']('hfov'));}function g(w){t=w['source'];}function h(w){i(w['source']);}function i(w){var x=w['get']('viewerArea');if(x==o){if(r){r['get']('camera')['set']('hoverFactor',u);}r=w;t=r;if(r){u=r['get']('camera')['get']('hoverFactor');r['get']('camera')['set']('hoverFactor',0x0);}}else if(x==p){if(s){s['get']('camera')['set']('hoverFactor',v);}s=w;t=r;if(s){v=s['get']('camera')['get']('hoverFactor');s['get']('camera')['set']('hoverFactor',0x0);}}f(w);}function j(w){var x=this['getCurrentPlayers']();var y=x['length'];while(y-->0x0){var A=x[y];if(A['get']('viewerArea')!=w){x['splice'](y,0x1);}}for(y=0x0;y<x['length'];++y){var A=x[y];A['bind']('preloadMediaShow',h,this);A['bind']('cameraPositionChange',e,this);A['bind']('userInteractionStart',g,this);if(A['get']('panorama'))i(A);}return x;}function k(w){i(this['getActivePlayerWithViewer'](w['source']));f(t);}var l=a['get']('children');var m=l[0x0];var n=l[0x1];var o=m['get']('children')[0x0];var p=n['get']('children')[0x0];var q=l[0x2];var r,s,t;var u,v;j['call'](this,o);j['call'](this,p);o['bind']('mouseDown',k,this);p['bind']('mouseDown',k,this);a['bind']('resize',function(){q['set']('left',(a['get']('actualWidth')-q['get']('actualWidth'))*0.5);b();},this);q['bind']('mouseDown',function(w){var x=w['pageX'];var y=function(z){var A=z['pageX'];var B=x-A;var C=a['get']('actualWidth');var D=q['get']('left');var E=(typeof D=='string'?c(D):D)-B;if(E<0x0){A-=E;E=0x0;}else if(E+q['get']('actualWidth')>=C){A-=E-(C-q['get']('actualWidth'));E=C-q['get']('actualWidth');}q['set']('left',E);b();x=A;};this['bind']('mouseMove',y,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',y,this);},this);},this);b();};TDV['Tour']['Script']['_initTwinsViewer']=function(a){function b(){var w=a['get']('actualWidth');m['get']('children')[0x0]['set']('width',w);n['get']('children')[0x0]['set']('width',w);var x=q['get']('left');var y=typeof x=='string'?c(x):x;y+=q['get']('actualWidth')*0.5;m['set']('width',d(y));n['set']('width',d(w-y));}function c(w){return parseFloat(w['replace']('%',''))/0x64*a['get']('actualWidth');}function d(w){return w/a['get']('actualWidth')*0x64+'%';}function e(w){f(w['source']);}function f(w){var x=w==s?r:s;if(t&&w!=t||!w||!x)return;var y=x['get']('camera')['get']('initialPosition')['get']('yaw')-w['get']('camera')['get']('initialPosition')['get']('yaw');x['setPosition'](w['get']('yaw')+y,w['get']('pitch'),w['get']('roll'),w['get']('hfov'));}function g(w){t=w['source'];}function h(w){i(w['source']);}function i(w){var x=w['get']('viewerArea');if(x==o){if(r){r['get']('camera')['set']('hoverFactor',u);}r=w;t=r;if(r){u=r['get']('camera')['get']('hoverFactor');r['get']('camera')['set']('hoverFactor',0x0);}}else if(x==p){if(s){s['get']('camera')['set']('hoverFactor',v);}s=w;t=r;if(s){v=s['get']('camera')['get']('hoverFactor');s['get']('camera')['set']('hoverFactor',0x0);}}f(w);}function j(w){var x=this['getCurrentPlayers']();var y=x['length'];while(y-->0x0){var A=x[y];if(A['get']('viewerArea')!=w){x['splice'](y,0x1);}}for(y=0x0;y<x['length'];++y){var A=x[y];A['bind']('preloadMediaShow',h,this);A['bind']('cameraPositionChange',e,this);A['bind']('userInteractionStart',g,this);if(A['get']('panorama'))i(A);}return x;}function k(w){i(this['getActivePlayerWithViewer'](w['source']));f(t);}var l=a['get']('children');var m=l[0x0];var n=l[0x1];var o=m['get']('children')[0x0];var p=n['get']('children')[0x0];var q=l[0x2];var r,s,t;var u,v;j['call'](this,o);j['call'](this,p);o['bind']('mouseDown',k,this);p['bind']('mouseDown',k,this);a['bind']('resize',function(){q['set']('left',(a['get']('actualWidth')-q['get']('actualWidth'))*0.5);b();},this);b();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var a=this['getByClassName']('PanoramaPlayer');return a['length']>0x0&&a[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(a){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](a['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(a,b){var c='keepVisibility_'+a['get']('id');var d=this['getKey'](c);if(d==undefined&&b){this['registerKey'](c,b);}else if(d!=undefined&&!b){this['unregisterKey'](c);}};TDV['Tour']['Script']['_initItemWithComps']=function(a,b,c,d,e,f,g,h){var j=a['get']('items')[b];var k=j['get']('media');var l=k['get']('loop')==undefined||k['get']('loop');var m=h>0x0;var n=this['rootPlayer'];var o=function(w){var x=f?f['get']('class'):undefined;var y=undefined;switch(x){case'FadeInEffect':case'FadeOutEffect':y=n['createInstance'](w?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':y=n['createInstance'](w?'SlideInEffect':'SlideOutEffect');break;}if(y){y['set']('duration',f['get']('duration'));y['set']('easing',f['get']('easing'));if(x['indexOf']('Slide')!=-0x1)y['set'](w?'from':'to',f['get'](f['get']('class')=='SlideInEffect'?'from':'to'));}return y;};var p=function(){for(var w=0x0,x=c['length'];w<x;++w){var y=c[w];if(h>0x0){this['setComponentVisibility'](y,!e,0x0,o(!e));}else{var z='visibility_'+y['get']('id');if(this['existsKey'](z)){if(this['getKey'](z))this['setComponentVisibility'](y,!![],0x0,o(!![]));else this['setComponentVisibility'](y,![],0x0,o(![]));this['unregisterKey'](z);}}}j['unbind']('end',p,this);if(!l)k['unbind']('end',p,this);};var q=function(){j['unbind']('stop',q,this,!![]);j['unbind']('stop',q,this);j['unbind']('begin',q,this,!![]);j['unbind']('begin',q,this);for(var w=0x0,x=c['length'];w<x;++w){this['keepCompVisible'](c[w],![]);}};var r=function(w,x,y){var z=function(){var A=function(E,F,G){n['setComponentVisibility'](E,F,x,G,F?'showEffect':'hideEffect',![]);if(y>0x0){var H=x+y+(G!=undefined?G['get']('duration'):0x0);n['setComponentVisibility'](E,!F,H,o(!F),F?'hideEffect':'showEffect',!![]);}};for(var B=0x0,C=c['length'];B<C;++B){var D=c[B];if(e=='toggle'){if(!D['get']('visible'))A(D,!![],o(!![]));else A(D,![],o(![]));}else{A(D,e,o(e));}}j['unbind'](w,z,this);if(w=='end'&&!l)k['unbind'](w,z,this);};j['bind'](w,z,this);if(w=='end'&&!l)k['bind'](w,z,this);};if(d=='begin'){for(var s=0x0,t=c['length'];s<t;++s){var u=c[s];this['keepCompVisible'](u,!![]);if(m){var v='visibility_'+u['get']('id');this['registerKey'](v,u['get']('visible'));}}j['bind']('stop',q,this,!![]);j['bind']('stop',q,this);j['bind']('begin',q,this,!![]);j['bind']('begin',q,this);if(m){j['bind']('end',p,this);if(!l)k['bind']('end',p,this);}}else if(d=='end'&&h>0x0){r('begin',h,0x0);h=0x0;}if(d!=undefined)r(d,g,h);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(a,b,c){var d=a['get']('selectedIndex');var e=a['get']('items')['length'];var f=(d+b)%e;while(f<0x0){f=e+f;}if(d!=f){if(c){var g=a['get']('items')[f];this['skip3DTransitionOnce'](g['get']('player'));}a['set']('selectedIndex',f);}};TDV['Tour']['Script']['mixObject']=function(a,b){return this['assignObjRecursively'](b,this['copyObjRecursively'](a));};TDV['Tour']['Script']['downloadFile']=function(a){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var b=document['createElement']('a');b['href']=a;b['setAttribute']('target','_blank');if(b['download']!==undefined){var c=a['substring'](a['lastIndexOf']('/')+0x1,a['length']);b['download']=c;}if(document['createEvent']){var d=document['createEvent']('MouseEvents');d['initEvent']('click',!![],!![]);b['dispatchEvent'](d);return;}}window['open'](a,'_blank');};TDV['Tour']['Script']['openLink']=function(a,b){if(!a||a==location['href']){return;}if(!b)b='_blank';if(b=='_top'||b=='_self'){this['updateDeepLink'](!![],!![],!![]);}var c=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(c&&b=='_blank'){if(a['startsWith']('files/')){a='/'+a;}if(a['startsWith']('//')){a='https:'+a;}else if(a['startsWith']('/')){var d=window['location']['href']['split']('/');d['pop']();a=d['join']('/')+a;}var e=a['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](e)==-0x1||a['startsWith']('file://'))&&window['hasOwnProperty']('require')){var f=window['require']('electron')['shell'];f['openExternal'](a);}else{window['open'](a,b);}}else if(c&&(b=='_top'||b=='_self')){window['location']=a;}else{var g=this['get']('data')['tour'];if(g['isMobileApp']()&&g['isIOS']())a='blank:'+a;var h=window['open'](a,b);h['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(a){var b=this['getCurrentPlayers']();var c=b['length'];while(c-->0x0){var d=b[c];if(d['get']('state')=='playing'||d['get']('data')&&d['get']('data')['playing']||d['get']('viewerArea')&&d['get']('viewerArea')['get']('id')==this['getMainViewer']()||d['get']('camera')&&d['get']('camera')['get']('idleSequence')&&d['get']('camera')['get']('timeToIdle')>0x0&&d['get']('state')=='playing'){var e=this['getMediaFromPlayer'](d);if(a&&e&&e['get']('class')!='Video360'&&'pauseCamera'in d){d['pauseCamera']();}else{d['pause']();}}else{b['splice'](c,0x1);}}return b;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(a,b,c){var d=function(){if(a['get']('selectedIndex')!=b){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](c,!![]);this['executeFunctionWhenChange'](a,b,d,d);};TDV['Tour']['Script']['pauseGlobalAudios']=function(b,c){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var d=this['getByClassName']('VideoPanoramaOverlay');d=d['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var f=d['length']-0x1;f>=0x0;--f){var g=d[f];if(g['get']('video')['get']('hasAudio')==![])d['splice'](f,0x1);}var h=this['getByClassName']('Audio')['concat'](d);var j={};if(window['currentGlobalAudios']!=undefined)h=h['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(n){if(!n['allowResume'])j[n['audio']['get']('id')]=n['audio'];return n['audio'];}));var k=[];for(var f=0x0,l=h['length'];f<l;++f){var m=h[f];if(m&&m['get']('state')=='playing'&&(b==undefined||b['indexOf'](m)==-0x1)){if(m['get']('id')in j){m['stop']();}else{m['pause']();k['push'](m);}}}if(c||k['length']>0x0)window['pausedAudiosLIFO']['push'](k);return k;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var b=window['pausedAudiosLIFO']['pop']();if(!b)return;for(var c=0x0,d=b['length'];c<d;++c){var e=b[c];if(e['get']('state')=='paused')e['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(a){var b=window['currentGlobalAudios'];if(b){var c=b[a['get']('id')];if(c)a=c['audio'];}if(a['get']('state')=='playing')a['pause']();};TDV['Tour']['Script']['playAudioList']=function(a,b){if(a['length']==0x0)return;if(a['length']==0x1&&b){var c=a[0x0];c['set']('loop',!![]);this['playGlobalAudio'](c,!![],null,!![]);}else{var d=-0x1;var e;var f=this['playGlobalAudio'];var g=function(){if(++d>=a['length']){if(!b)return;d=0x0;}e=a[d];f(e,!![],g,!![]);};g();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(a,b,c,d){var e=this['getActiveMediaWithViewer'](this['getMainViewer']());var f=this['getFirstPlayListWithMedia'](e,!![]);var g=this['getPlayListItemByMedia'](f,e);var h=f['get']('items')['indexOf'](g);return this['playGlobalAudioWhilePlay'](f,h,a,b,c,d);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(a,b,c,d,e,f){var g=function(p){if(p['data']['previousSelectedIndex']==b){this['stopGlobalAudio'](c);if(k){var q=j['get']('media');var r=q['get']('audios');r['splice'](r['indexOf'](c),0x1);q['set']('audios',r);}a['unbind']('change',g,this);if(e)e();}};var i=window['currentGlobalAudios'];if(i&&c['get']('id')in i){c=i[c['get']('id')]['audio'];if(c['get']('state')!='playing'){c['play']();}return c;}a['bind']('change',g,this);var j=a['get']('items')[b];var k=j['get']('class')=='PanoramaPlayListItem';if(k){var l=j['get']('media');var i=(l['get']('audios')||[])['slice']();if(c['get']('class')=='MediaAudio'){var m=this['rootPlayer']['createInstance']('PanoramaAudio');m['set']('autoplay',![]);m['set']('audio',c['get']('audio'));m['set']('loop',c['get']('loop'));m['set']('id',c['get']('id'));this['cloneBindings'](c,m,'end');this['cloneBindings'](c,m,'stateChange');c=m;}i['push'](c);l['set']('audios',i);}var n=this['playGlobalAudio'](c,d,function(){a['unbind']('change',g,this);if(e)e['call'](this);});if(f===!![]){var o=function(){if(n['get']('state')=='playing'){this['pauseGlobalAudios']([n],!![]);}else if(n['get']('state')=='stopped'){this['resumeGlobalAudios']();n['unbind']('stateChange',o,this);}};n['bind']('stateChange',o,this);}return n;};TDV['Tour']['Script']['playGlobalAudio']=function(a,b,c,d){var e=function(){a['unbind']('end',e,this);this['stopGlobalAudio'](a);if(c)c['call'](this);};a=this['getGlobalAudio'](a);var f=window['currentGlobalAudios'];if(!f){f=window['currentGlobalAudios']={};}f[a['get']('id')]={'audio':a,'asBackground':d||![],'allowResume':b};if(a['get']('state')=='playing'){return a;}if(!a['get']('loop')){a['bind']('end',e,this);}a['play']();return a;};TDV['Tour']['Script']['resumePlayers']=function(a,b){for(var c=0x0;c<a['length'];++c){var d=a[c];var e=this['getMediaFromPlayer'](d);if(!e)continue;if(b&&e['get']('class')!='Video360'&&'pauseCamera'in d){d['resumeCamera']();}else if(d['get']('state')!='playing'){var f=d['get']('data');if(!f){f={};d['set']('data',f);}f['playing']=!![];var g=function(){if(d['get']('state')=='playing'){delete f['playing'];d['unbind']('stateChange',g,this);}};d['bind']('stateChange',g,this);d['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(a){var b=window['currentGlobalAudios'];var c=this;if(b){Object['keys'](b)['forEach'](function(d){var e=b[d];if(!a||a&&!e['asBackground']){c['stopGlobalAudio'](e['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(a){var b=window['currentGlobalAudios'];if(b){var c=b[a['get']('id')];if(c){a=c['audio'];delete b[a['get']('id')];if(Object['keys'](b)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(a)a['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(a,b){var c=this['getCurrentPlayerWithMedia'](b);if(c!=undefined){var d=a['get']('initialPosition');d['set']('yaw',c['get']('yaw'));d['set']('pitch',c['get']('pitch'));d['set']('hfov',c['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(a,b,c,d,e,f){var g=this['getKey']('keepVisibility_'+a['get']('id'));if(g)return;this['unregisterKey']('visibility_'+a['get']('id'));var h=function(){if(e){a['set'](e,d);}a['set']('visible',b);if(a['get']('class')=='ViewerArea'){try{if(b)a['restart']();else if(a['get']('playbackState')=='playing')a['pause']();}catch(n){};}};var j='effectTimeout_'+a['get']('id');if(!f&&window['hasOwnProperty'](j)){var l=window[j];if(l instanceof Array){for(var m=0x0;m<l['length'];m++){clearTimeout(l[m]);}}else{clearTimeout(l);}delete window[j];}else if(b==a['get']('visible')&&!f)return;if(c&&c>0x0){var l=setTimeout(function(){if(window[j]instanceof Array){var n=window[j];var o=n['indexOf'](l);n['splice'](o,0x1);if(n['length']==0x0){delete window[j];}}else{delete window[j];}h();},c);if(window['hasOwnProperty'](j)){window[j]=[window[j],l];}else{window[j]=l;}}else{h();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(a,b,c,d){a['set']('yaw',b);a['set']('pitch',c);a['set']('maximumAngle',d);};TDV['Tour']['Script']['setLocale']=function(a){this['stopTextToSpeech']();var b=this['get']('data')['localeManager'];if(b)this['get']('data')['localeManager']['setLocale'](a);else{this['get']('data')['defaultLocale']=a;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(a,b,c){var d=function(){if(a['get']('selectedIndex')==b){var e=a['get']('items')[c];this['skip3DTransitionOnce'](e['get']('player'));a['set']('selectedIndex',c);}};this['executeFunctionWhenChange'](a,b,d);};TDV['Tour']['Script']['setMapLocation']=function(a,b){var c=function(){a['unbind']('stop',c,this);d['set']('mapPlayer',null);};a['bind']('stop',c,this);var d=a['get']('player');d['set']('mapPlayer',b);};TDV['Tour']['Script']['setMainMediaByIndex']=function(a){var b=undefined;if(a>=0x0&&a<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',a);b=this['mainPlayList']['get']('items')[a];}return b;};TDV['Tour']['Script']['setMainMediaByName']=function(a){var b=this['getMainViewer']();var c=this['_getPlayListsWithViewer'](b);for(var d=0x0,e=c['length'];d<e;++d){var f=c[d];var g=f['get']('items');for(var h=0x0,k=g['length'];h<k;++h){var l=g[h];var m=l['get']('media')['get']('data');if(m!==undefined&&m['label']==a&&l['get']('player')['get']('viewerArea')==b){f['set']('selectedIndex',h);return l;}}}};TDV['Tour']['Script']['executeAudioAction']=function(a,b,c,d,e,f){if(a['length']==0x0)return;var g,h;var j=this['getMainViewer']();if(c&&!(c===!![])){var k=this['getPlayListsWithMedia'](c);for(var l=0x0;l<k['length'];++l){var m=k[l];var o=this['getPlayListItemByMedia'](m,c);if(o&&o['get']('player')&&o['get']('player')['get']('viewerArea')==j){g=m;h=g['get']('items')['indexOf'](o);break;}}if(!g&&k['length']>0x0){g=k[0x0];h=this['getPlayListItemIndexByMedia'](g,c);}if(!g)c=!![];}if(c===!![]){var p=this['getActiveMediaWithViewer'](j);if(p){g=this['getFirstPlayListWithMedia'](p,!![]);var o=this['getPlayListItemByMedia'](g,p);h=g['get']('items')['indexOf'](o);}else{c=null;}}var q=[];var r=function(){var z=q['concat']();var A=![];var B=function(E){var F=E['source']['get']('state');if(F=='playing'){if(!A){A=!![];this['pauseGlobalAudios'](q,!![]);}}else if(F=='stopped'){z['splice'](z['indexOf'](E['source']),0x1);if(z['length']==0x0){this['resumeGlobalAudios']();}E['source']['unbind']('stateChange',B,this);}}['bind'](this);for(var C=0x0,D=q['length'];C<D;++C){q[C]['bind']('stateChange',B,this);}}['bind'](this);var s=function(){for(var z=0x0,A=a['length'];z<A;++z){var B=a[z];q['push'](this['playGlobalAudio'](B,d));}if(e)r();}['bind'](this);var t=function(){for(var z=0x0,A=a['length'];z<A;++z){var B=a[z];q['push'](this['playGlobalAudioWhilePlay'](g,h,B,d));}if(e)r();}['bind'](this);var u=function(){for(var z=0x0,A=a['length'];z<A;++z){this['pauseGlobalAudio'](a[z]);}}['bind'](this);var v=function(){for(var z=0x0,A=a['length'];z<A;++z){this['stopGlobalAudio'](a[z]);}}['bind'](this);var w=function(){for(var z=0x0,A=a['length'];z<A;++z){if(this['getGlobalAudio'](a[z])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(b=='playPause'||b=='playStop'){if(w()){if(b=='playPause'){u();}else if(b=='playStop'){v();}}else{if(e){if(b=='playStop'){this['stopGlobalAudios'](!![]);}}if(g){t();}else{s();}}}else if(b=='play'){if(g||c===!![]){if(f){var x=g?g['get']('items')[h]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(x&&x['pauseCamera']){var y=a['concat']();endCallback=function(z){y['splice'](y['indexOf'](z),0x1);if(y['length']==0x0)x['resumeCamera']();}['bind'](this);x['pauseCamera']();}}t();}else{s();}}else if(b=='stop'){v();}else if(b=='pause'){u();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(a,b,c,d,e,f,g){var h=this['getAudioByTags'](a,b);this['executeAudioAction'](h,c,d,e,f,g);};TDV['Tour']['Script']['setMediaBehaviour']=function(a,b,c,d){var e=this;var f=function(D){if(D['data']['state']=='stopped'&&d){k['call'](this,!![]);}};var g=function(){q['unbind']('begin',g,e);var D=q['get']('media');if(D['get']('class')!='Panorama'||D['get']('camera')!=undefined&&D['get']('camera')['get']('initialSequence')!=undefined){r['bind']('stateChange',f,e);}};var h=function(){var D=n['get']('selectedIndex');if(D!=-0x1){p=D;k['call'](this,![]);}};var j=function(){k['call'](this,![]);};var k=function(D){if(!n)return;var E=q['get']('media');if((E['get']('class')=='Video360'||E['get']('class')=='Video')&&E['get']('loop')==!![]&&!D)return;a['set']('selectedIndex',-0x1);if(y&&x!=-0x1){if(y){if(x>0x0&&y['get']('movements')[x-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var F=z['get']('initialPosition');var G=F['get']('yaw');var H=F['get']('pitch');var I=F['get']('hfov');var J=y['get']('movements')[x-0x1];var K=J['get']('targetYaw');var L=J['get']('targetPitch');var M=J['get']('targetHfov');if(K!==undefined)F['set']('yaw',K);if(L!==undefined)F['set']('pitch',L);if(M!==undefined)F['set']('hfov',M);var N=function(Q){F['set']('yaw',G);F['set']('pitch',H);F['set']('hfov',I);t['unbind']('end',N,this);};t['bind']('end',N,this);}y['set']('movementIndex',x);}}if(r){q['unbind']('begin',g,this);r['unbind']('stateChange',f,this);for(var O=0x0;O<A['length'];++O){A[O]['unbind']('click',j,this);}}if(w){var P=this['getMediaFromPlayer'](r);if((n==this['mainPlayList']||n['get']('items')['length']>0x1)&&(P==undefined||P==q['get']('media'))){n['set']('selectedIndex',p);}if(a!=n)n['unbind']('change',h,this);}else{u['set']('visible',v);}n=undefined;};if(!c){var l=a['get']('selectedIndex');var m=l!=-0x1?a['get']('items')[a['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(m){c=this['getMediaFromPlayer'](m);}}var n=undefined;if(c){var o=this['getPlayListsWithMedia'](c,!![]);if(o['indexOf'](a)!=-0x1){n=a;}else if(o['indexOf'](this['mainPlayList'])!=-0x1){n=this['mainPlayList'];}else if(o['length']>0x0){n=o[0x0];}}if(!n){a['set']('selectedIndex',b);return;}var p=n['get']('selectedIndex');var q=a['get']('items')[b];var r=q['get']('player');var s=this['getMediaFromPlayer'](r);if(a['get']('selectedIndex')==b&&s==q['get']('media')||p==-0x1){return;}if(a['get']('selectedIndex')==b&&s!=q['get']('media'))a['set']('selectedIndex',-0x1);var t=n['get']('items')[p];var u=r['get']('viewerArea');var v=u['get']('visible');var w=u==t['get']('player')['get']('viewerArea');if(w){if(a!=n){n['set']('selectedIndex',-0x1);n['bind']('change',h,this);}}else{u['set']('visible',!![]);}var x=-0x1;var y=undefined;var z=t['get']('camera');if(z){y=z['get']('initialSequence');if(y){x=y['get']('movementIndex');}}a['set']('selectedIndex',b);var A=[];var B=function(D){var E=r['get'](D);if(E==undefined)return;if(Array['isArray'](E))A=A['concat'](E);else A['push'](E);};B('buttonStop');for(var C=0x0;C<A['length'];++C){A[C]['bind']('click',j,this);}q['bind']('begin',g,e);this['executeFunctionWhenChange'](a,b,d?j:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(a,b,c,d){var e=function(){switch(c){case'triggerClick':this['triggerOverlay'](a,'click');break;case'stop':case'play':case'pause':a[c]();break;case'togglePlayPause':case'togglePlayStop':if(a['get']('state')=='playing')a[c=='togglePlayPause'?'pause':'stop']();else a['play']();break;}if(d){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var j=a['get']('id');window['overlaysDispatched'][j]=!![];setTimeout(function(){delete window['overlaysDispatched'][j];},0x3e8);}};if(d&&window['overlaysDispatched']!=undefined&&a['get']('id')in window['overlaysDispatched'])return;var f=this['getFirstPlayListWithMedia'](b,!![]);if(f!=undefined){var g=this['getPlayListItemByMedia'](f,b);var h=g['get']('player');if(f['get']('items')['indexOf'](g)!=f['get']('selectedIndex')||this['isPanorama'](g['get']('media'))&&h['get']('rendererPanorama')!=g['get']('media')){var i=function(j){g['unbind']('begin',i,this);e['call'](this);};g['bind']('begin',i,this);return;}}e['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(a,b,c){var d='overlayEffects';var e=undefined;var f=this['getKey'](d);if(!f){f={};this['registerKey'](d,f);}for(var g=0x0,h=a['length'];g<h;++g){var j=a[g];if(c&&c>0x0){f[j['get']('id')]=setTimeout(k['bind'](this,j),c);}else{k['call'](this,j);}}function k(l){var m=l['get']('id');var n=f[m];if(n){clearTimeout(n);delete n[m];}var o=b=='toggle'?!l['get']('enabled'):b;l['set']('enabled',o);var q=l['get']('data');if(o&&q&&'group'in q){var r=this['getOverlaysByGroupname'](q['group']);for(var s=0x0,t=r['length'];s<t;++s){var v=r[s];if(v!=l)v['set']('enabled',!o);}}if(!e)e=this['getByClassName']('AdjacentPanorama');for(var w=0x0,x=e['length'];w<x;++w){var y=e[w];var q=y['get']('data');if(!q)continue;var v=this[q['overlayID']];if(v&&v==l){y['set']('enabledInSurfaceSelection',v['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(a,b,c,d,e){var f=c?this['getPanoramaOverlaysByTags'](c,a,d):this['getOverlaysByTags'](a,d);this['setOverlaysVisibility'](f,b,e);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(a,b,c,d,e){var f=this['getComponentsByTags'](a,e);for(var g=0x0,h=f['length'];g<h;++g){var j=f[g];if(b=='toggle')j['get']('visible')?d(j):c(j);else b?c(j):d(j);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(a,b){var c=this['getActiveMediaWithViewer'](b||this['getMainViewer']());if(c!=undefined&&(c['get']('class')['indexOf']('Panorama')!=-0x1||c['get']('class')=='Video360')){var d=a['get']('media');var e=this['cloneCamera'](a['get']('camera'));this['setCameraSameSpotAsMedia'](e,c);this['startPanoramaWithCamera'](d,e);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(a,b,c,d,e){var f=a['get']('selectedIndex');var g=a['get']('items');var h=b['get']('player');if(g[f]==b||h['get']('rendererPanorama')==b['get']('media')){if(c===undefined)c=h['get']('yaw');if(d===undefined)d=h['get']('pitch');if(e===undefined)e=h['get']('hfov');h['moveTo'](c,d,h['get']('roll'),e);}else{var i=b['get']('media');var j=this['cloneCamera'](b['get']('camera'));var k=j['get']('initialPosition');if(c!==undefined)k['set']('yaw',c);if(d!==undefined)k['set']('pitch',d);if(e!==undefined)k['set']('hfov',e);this['startPanoramaWithCamera'](i,j);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(a){var b=this['getByClassName']('HotspotPanoramaOverlay');var c=this['getByClassName']('PanoramaPlayer');var d=a=='hotspotEnabled';var e=a=='circleEnabled';var f=!!a;b['forEach'](function(g){var h=g['get']('data');if(h&&h['hasPanoramaAction']==!![])g['set']('enabledInSurfaceSelection',d);});c['forEach'](function(g){g['set']('adjacentPanoramaPositionsEnabled',e);g['set']('surfaceSelectionEnabled',f);});this['get']('data')['surfaceSelectionHotspotMode']=a;};TDV['Tour']['Script']['setValue']=function(a,b,c){try{if('set'in a)a['set'](b,c);else a[b]=c;}catch(d){}};TDV['Tour']['Script']['setStartTimeVideo']=function(a,b){var c=this['getPlayListItems'](a);var d=[];var e=function(){for(var j=0x0;j<c['length'];++j){var k=c[j];k['set']('startTime',d[j]);k['unbind']('stop',e,this);}};for(var f=0x0;f<c['length'];++f){var g=c[f];var h=g['get']('player');if(!h)continue;if(h['get']('video')==a&&h['get']('state')=='playing'){h['seek'](b);}else{d['push'](g['get']('startTime'));g['set']('startTime',b);g['bind']('stop',e,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(a,b){if(a&&b)this['setStartTimeVideo'](a,b['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(a){if(a&&a['get']('class')=='PanoramaPlayer'){var b=a['get']('viewerArea');if(b&&b['get']('translationTransitionEnabled')==!![]){var c=function(){a['unbind']('preloadMediaShow',c,this);b['set']('translationTransitionEnabled',!![]);};b['set']('translationTransitionEnabled',![]);a['bind']('preloadMediaShow',c,this);}}};TDV['Tour']['Script']['shareSocial']=function(a,b,c,d,e,f){if(b==undefined){b=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(c){b+=this['updateDeepLink'](d,e,![]);}b=function(h){switch(h){case'email':return'mailto:?body='+encodeURIComponent(b);case'facebook':var i=b['indexOf']('?')!=-0x1;b=b['replace']('#','?');if(i){var j=b['lastIndexOf']('?');b=b['substring'](0x0,j)+'&'+b['substring'](j+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(b);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(b);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+b;case'telegram':return'https://t.me/share/url?url='+b;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+b;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(b);default:return b;}}(a);if(f){for(var g in f){b+='&'+g+'='+f[g];}}if(a=='clipboard')this['copyToClipboard'](b);else this['openLink'](b,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(a,b,c,d){var e=function(j){for(var k=0x0,l=b['length'];k<l;k++){var m=b[k];if(!d||d(m,j))m['set']('visible',j);}};if(this['get']('isMobile')){e['call'](this,!![]);}else{var f=-0x1;var g=function(){e['call'](this,!![]);if(f>=0x0)clearTimeout(f);a['bind']('rollOut',h,this);};var h=function(){var i=function(){e['call'](this,![]);};a['unbind']('rollOut',h,this);f=setTimeout(i['bind'](this),c);};a['bind']('rollOver',g,this);}};TDV['Tour']['Script']['showPopupMedia']=function(a,b,c,d,e,f){var g=this;var h=function(){window['resumeAudiosBlocked']=![];c['set']('selectedIndex',-0x1);g['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](m,!![]);if(l){this['unbind']('resize',j,this);}a['unbind']('close',h,this);};var i=function(){a['hide']();};var j=function(){var n=function(F){return a['get'](F)||0x0;};var o=g['get']('actualWidth');var p=g['get']('actualHeight');var q=g['getMediaWidth'](b);var r=g['getMediaHeight'](b);var s=parseFloat(d)/0x64;var t=parseFloat(e)/0x64;var u=s*o;var v=t*p;var x=n('footerHeight');var y=n('headerHeight');if(!y){var z=n('closeButtonIconHeight')+n('closeButtonPaddingTop')+n('closeButtonPaddingBottom');var A=g['getPixels'](n('titleFontSize'))+n('titlePaddingTop')+n('titlePaddingBottom');y=z>A?z:A;y+=n('headerPaddingTop')+n('headerPaddingBottom');}var B=u-n('bodyPaddingLeft')-n('bodyPaddingRight')-n('paddingLeft')-n('paddingRight');var C=v-y-x-n('bodyPaddingTop')-n('bodyPaddingBottom')-n('paddingTop')-n('paddingBottom');var D=B/C;var E=q/r;if(D>E){u=C*E+n('bodyPaddingLeft')+n('bodyPaddingRight')+n('paddingLeft')+n('paddingRight');}else{v=B/E+y+x+n('bodyPaddingTop')+n('bodyPaddingBottom')+n('paddingTop')+n('paddingBottom');}if(u>o*s){u=o*s;}if(v>p*t){v=p*t;}a['set']('width',u);a['set']('height',v);a['set']('x',(o-n('actualWidth'))*0.5);a['set']('y',(p-n('actualHeight'))*0.5);};if(f){this['executeFunctionWhenChange'](c,0x0,i);}var k=b['get']('class');var l=k=='Video'||k=='Video360';c['set']('selectedIndex',0x0);if(l){this['bind']('resize',j,this);j();c['get']('items')[0x0]['get']('player')['play']();}else{a['set']('width',d);a['set']('height',e);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var m=this['pauseCurrentPlayers'](!![]);a['bind']('close',h,this);a['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(a,b,c,d,e,f,g,h,i,j,k,l){var m=![];var n=function(){E['unbind']('loaded',q,this);u['call'](this);};var o=function(){E['unbind']('click',o,this);if(I!=undefined){clearTimeout(I);}};var p=function(){setTimeout(y,0x0);};var q=function(){this['unbind']('click',n,this);D['set']('visible',!![]);y();F['set']('visible',!![]);E['unbind']('loaded',q,this);E['bind']('resize',p,this);I=setTimeout(r['bind'](this),0xc8);};var r=function(){I=undefined;if(h){E['bind']('click',o,this);t['call'](this);}E['bind']('userInteractionStart',z,this);E['bind']('userInteractionEnd',A,this);E['bind']('backgroundClick',u,this);if(b){E['bind']('click',w,this);E['set']('imageCursor','hand');}F['bind']('click',u,this);if(k)k['call'](this);};var s=function(){if(h&&I){clearTimeout(I);I=undefined;}};var t=function(){if(h){s();I=setTimeout(u['bind'](this),h);}};var u=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);m=!![];if(I)clearTimeout(I);if(J)clearTimeout(J);if(h)o();if(l)l['call'](this);E['set']('visible',![]);if(f&&f['get']('duration')>0x0){f['bind']('end',v,this);}else{E['set']('image',null);}F['set']('visible',![]);D['set']('visible',![]);this['unbind']('click',n,this);E['unbind']('backgroundClick',u,this);E['unbind']('userInteractionStart',z,this);E['unbind']('userInteractionEnd',A,this,!![]);E['unbind']('resize',p,this);if(b){E['unbind']('click',w,this);E['set']('cursor','default');}F['unbind']('click',u,this);this['resumePlayers'](H,i==null||j);if(j){this['resumeGlobalAudios']();}if(i){this['stopGlobalAudio'](i);}};var v=function(){E['set']('image',null);f['unbind']('end',v,this);};var w=function(){E['set']('image',x()?a:b);};var x=function(){return E['get']('image')==b;};var y=function(){var K=E['get']('actualWidth')-E['get']('imageLeft')-E['get']('imageWidth')+0xa;var L=E['get']('imageTop')+0xa;if(K<0xa)K=0xa;if(L<0xa)L=0xa;F['set']('right',K);F['set']('top',L);};var z=function(){s();if(J){clearTimeout(J);J=undefined;}else{F['set']('visible',![]);}};var A=function(){t['call'](this);if(!m){J=setTimeout(B,0x12c);}};var B=function(){J=undefined;F['set']('visible',!![]);y();};var C=function(K){var L=K['get']('data');if(L&&'extraLevels'in L){var M=this['rootPlayer']['createInstance'](K['get']('class'));var N=L['extraLevels'];for(var O=0x0;O<N['length'];O++){var P=N[O];if(typeof P=='string')N[O]=this[P['replace']('this.','')];}M['set']('levels',K['get']('levels')['concat'](N));K=M;}return K;};this['getMainViewer']()['set']('toolTipEnabled',![]);var D=this['veilPopupPanorama'];var E=this['zoomImagePopupPanorama'];var F=this['closeButtonPopupPanorama'];if(g){for(var G in g){F['set'](G,g[G]);}}var H=this['pauseCurrentPlayers'](i==null||!j);if(j){this['pauseGlobalAudios'](null,!![]);}if(i){this['playGlobalAudio'](i,!![]);}var I=undefined;var J=undefined;a=C['call'](this,a);if(b)b=C['call'](this,b);E['bind']('loaded',q,this);setTimeout(function(){this['bind']('click',n,this,![]);}['bind'](this),0x0);E['set']('image',a);E['set']('customWidth',c);E['set']('customHeight',d);E['set']('showEffect',e);E['set']('hideEffect',f);E['set']('visible',!![]);return E;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(a,b,c,d,e,f,g,h){var i=this['isCardboardViewMode']();if(a['get']('visible')||!i&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!i){var j=this['zoomImagePopupPanorama'];var k=a['get']('showDuration');var l=a['get']('hideDuration');var n=this['pauseCurrentPlayers'](f==null||!g);var o=a['get']('popupMaxWidth');var p=a['get']('popupMaxHeight');var q=function(){var t=function(){if(!this['isCardboardViewMode']())a['set']('visible',![]);};a['unbind']('showEnd',q,this);a['set']('showDuration',0x1);a['set']('hideDuration',0x1);this['showPopupImage'](c,d,a['get']('popupMaxWidth'),a['get']('popupMaxHeight'),null,null,b,e,f,g,t,r);};var r=function(){var t=function(){a['unbind']('hideEnd',t,this);if(d){a['set']('image',c);a['unbind']('click',v,this);}if(h)h();};var u=function(){a['unbind']('showEnd',u,this);a['bind']('hideEnd',t,this,!![]);a['set']('visible',![]);a['set']('showDuration',k);a['set']('popupMaxWidth',o);a['set']('popupMaxHeight',p);};var v=function(){a['set']('image',a['get']('image')==c?d:c);};this['resumePlayers'](n,f==null||!g);var w=j['get']('imageWidth');var x=j['get']('imageHeight');a['bind']('showEnd',u,this,!![]);if(d)a['bind']('click',v,this);a['set']('showDuration',0x1);a['set']('hideDuration',l);a['set']('popupMaxWidth',w);a['set']('popupMaxHeight',x);if(a['get']('visible'))u();else a['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(h)h();};a['bind']('showEnd',q,this,!![]);}else{var s=function(){this['resumePlayers'](n,f==null||g);if(g){this['resumeGlobalAudios']();}if(f){this['stopGlobalAudio'](f);}a['unbind']('hideEnd',s,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(h)h();};var n=this['pauseCurrentPlayers'](f==null||!g);if(g){this['pauseGlobalAudios'](null,!![]);}if(f){this['playGlobalAudio'](f,!![]);}a['bind']('hideEnd',s,this,!![]);}a['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(a,b,c,d,e){var f=![];var g=function(){a['unbind']('showEnd',g);k['bind']('click',i,this);j();k['set']('visible',!![]);}['bind'](this);var h=function(){f=!![];if(!a['get']('loop'))i();}['bind'](this);var i=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);a['set']('visible',![]);k['set']('visible',![]);k['unbind']('click',i,this);a['unbind']('end',h,this);a['unbind']('hideEnd',i,this,!![]);this['resumePlayers'](m,!![]);if(c){this['resumeGlobalAudios']();}if(d)d();if(e&&f)e();}['bind'](this);var j=function(){var n=0xa;var o=0xa;k['set']('right',n);k['set']('top',o);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var k=this['closeButtonPopupPanorama'];if(b){for(var l in b){k['set'](l,b[l]);}}window['resumeAudiosBlocked']=!![];var m=this['pauseCurrentPlayers'](!![]);if(c){this['pauseGlobalAudios']();}a['bind']('end',h,this,!![]);a['bind']('showEnd',g,this,!![]);a['bind']('hideEnd',i,this,!![]);a['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(a,b,c){if(a['get']('visible')==!![]){return;}var d=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(c){this['resumeGlobalAudios']();}e();this['resumePlayers'](h,!c);a['unbind']('close',d,this);};var e=function(){a['unbind']('click',e,this);if(f!=undefined){clearTimeout(f);}};var f=undefined;if(b){var g=function(){a['hide']();};a['bind']('click',e,this);f=setTimeout(g,b);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(c){this['pauseGlobalAudios'](null,!![]);}var h=this['pauseCurrentPlayers'](!c);a['bind']('close',d,this);a['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(a,b){var c=this['getByClassName']('PlayList');if(c['length']==0x0)return;var d=window['currentPanoramasWithCameraChanged']==undefined||!(a['get']('id')in window['currentPanoramasWithCameraChanged']);var e=[];for(var g=0x0,h=c['length'];g<h;++g){var k=c[g];var l=k['get']('items');for(var m=0x0,n=l['length'];m<n;++m){var p=l[m];if(p['get']('media')==a&&(p['get']('class')=='PanoramaPlayListItem'||p['get']('class')=='Video360PlayListItem')){if(d){e['push']({'camera':p['get']('camera'),'item':p});}p['set']('camera',b);}}}if(e['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var q=a['get']('id');window['currentPanoramasWithCameraChanged'][q]=e;var r=function(){if(q in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][q];}for(var t=0x0;t<e['length'];t++){e[t]['item']['set']('camera',e[t]['camera']);e[t]['item']['unbind']('end',r,this);}};for(var g=0x0;g<e['length'];g++){var s=e[g];var p=s['item'];this['skip3DTransitionOnce'](p['get']('player'));p['bind']('end',r,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(a,b){var c=a['get']('initialSequence');c['pause']();var d=function(){c['play']();};setTimeout(d,b);};TDV['Tour']['Script']['syncPlaylists']=function(a){var b=function(k,l){for(var m=0x0,n=a['length'];m<n;++m){var o=a[m];if(o!=l){var p=o['get']('items');for(var q=0x0,r=p['length'];q<r;++q){if(p[q]['get']('media')==k){if(o['get']('selectedIndex')!=q){o['set']('selectedIndex',q);}break;}}}}};var c=function(k){var l=k['source'];var m=l['get']('selectedIndex');if(m<0x0)return;var n=l['get']('items')[m]['get']('media');b(n,l);};var d=function(k){var l=k['source']['get']('panoramaMapLocation');if(l){var m=l['get']('map');b(m);}};for(var f=0x0,h=a['length'];f<h;++f){a[f]['bind']('change',c,this);}var j=this['getByClassName']('MapPlayer');for(var f=0x0,h=j['length'];f<h;++f){j[f]['bind']('panoramaMapLocation_change',d,this);}};TDV['Tour']['Script']['translate']=function(a){return this['get']('data')['localeManager']['trans'](a);};TDV['Tour']['Script']['triggerOverlay']=function(a,b){if(a['get']('areas')!=undefined){var c=a['get']('areas');for(var d=0x0;d<c['length'];++d){c[d]['trigger'](b);}}else{a['trigger'](b);}};TDV['Tour']['Script']['updateDeepLink']=function(a,b,c){var d=this['mainPlayList']['get']('selectedIndex');var e;var f;if(d>=0x0){e='#media='+(d+0x1);f=this['mainPlayList']['get']('items')[d]['get']('media');}else{f=this['getActiveMediaWithViewer'](this['getMainViewer']());if(f!=undefined){var h=f['get']('data');if(h){e='#media-name='+h['label'];}}}if(f){if(a){var j=this['getActivePlayerWithViewer'](this['getMainViewer']());if(j&&j['get']('class')=='PanoramaPlayer'){var k=j['get']('yaw');var l=j['get']('pitch');if(!isNaN(k)&&!isNaN(l))e+='&yaw='+k['toFixed'](0x2)+'&pitch='+l['toFixed'](0x2);}}if(b){var m=this['getOverlays'](f);var n=[];var o=[];for(var p=0x0,q=m['length'];p<q;++p){var r=m[p];var s=r['get']('enabled');var h=r['get']('data');if(s===undefined||!h||!h['label'])continue;var t=encodeURIComponent(h['label']);var u=h['group'];if(s!=h['defaultEnabledValue']){if(s){n['push'](t);}else if(!u){o['push'](t);}}}if(n['length']>0x0)e+='&son='+n['join'](',');if(o['length']>0x0)e+='&hon='+o['join'](',');}}if(e&&c===!![]){location['hash']=e;}return e;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(a,b,c){var d=function(){var f=a['get']('selectedIndex');if(f>=0x0){var g=function(){j['unbind']('begin',g);h(f);};var h=function(k){var l=j['get']('media');var m=l['get']('data');var n=m!==undefined?m['description']:undefined;i(n);};var i=function(k){if(k!==undefined){b['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+k+'</SPAN></div>');}else{b['set']('html','');}var l=b['get']('html');b['set']('visible',l!==undefined&&l);};var j=a['get']('items')[f];if(b['get']('html')){i('Loading...');j['bind']('begin',g);}else{h(f);}}};var e=function(){b['set']('html',undefined);a['unbind']('change',d,this);c['unbind']('stop',e,this);};if(c){c['bind']('stop',e,this);}a['bind']('change',d,this);d();};TDV['Tour']['Script']['updateVideoCues']=function(a,b){var c=a['get']('items')[b];var d=c['get']('media');if(d['get']('cues')['length']==0x0)return;var e=c['get']('player');var f=[];var g=function(){if(a['get']('selectedIndex')!=b){d['unbind']('cueChange',h,this);a['unbind']('change',g,this);}};var h=function(j){var k=j['data']['activeCues'];for(var l=0x0,m=f['length'];l<m;++l){var n=f[l];if(k['indexOf'](n)==-0x1&&(n['get']('startTime')>e['get']('currentTime')||n['get']('endTime')<e['get']('currentTime')+0.5)){n['trigger']('end');}}f=k;};d['bind']('cueChange',h,this);a['bind']('change',g,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(a,b){var c=this['get'](b);for(var d in a){a[d]['set']('visible',c);}};TDV['Tour']['Script']['quizStart']=function(){var a=this['get']('data')['quiz'];return a?a['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var a=this['get']('data')['quiz'];return a?a['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var a=this['get']('data')['quiz'];return a?a['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var a=this['get']('data')['quiz'];return a?a['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(a){var b=this['get']('data')['quiz'];if(b)b['setItemFound'](a);};TDV['Tour']['Script']['quizShowQuestion']=function(a){var b=this['get']('data');var c=b['quiz'];var d;if(c){var e=this['pauseCurrentPlayers'](!![]);var f=this[a];var g;if(!f['media']){g=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){g={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(!f['canClose']){g=this['mixObject'](g||{},{'theme':{'window':{'closeButton':{'width':0x0,'height':0x0,'paddingTop':0x0,'paddingBottom':0x0,'paddingLeft':0x0,'paddingRight':0x0}}}});}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var h=this['get']('data')['tour']['getNotchValue']();if(h>0x0){g=this['mixObject'](g||{},{'theme':{'window':{'width':undefined,'left':h,'right':h}}});}}var i=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!f['title'];if(i)this['textToSpeech'](f['title'],a);d=c['showQuestion'](a,g);d['then'](function(j){if(i)this['stopTextToSpeech']();this['resumePlayers'](e,!![]);}['bind'](this));}return d;};TDV['Tour']['Script']['quizShowScore']=function(a){var b=this['get']('data');var c=b['quiz'];if(c){if(this['get']('isMobile')){a=a||{};a=this['mixObject'](a,b[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return c['showScore'](a);}};TDV['Tour']['Script']['quizShowTimeout']=function(a,b){var c=this['get']('data');var d=c['quiz'];if(d){if(this['get']('isMobile')){b=b||{};b=this['mixObject'](b,c[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}d['showTimeout'](a,b);}};TDV['Tour']['Script']['stopTextToSpeech']=function(a){if(window['speechSynthesis']&&(a==undefined||this['t2sLastID']==a)){var b=window['speechSynthesis'];if(b['speaking']){b['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['textToSpeech']=function(a,b,c){if(this['get']('mute')){return;}var d=this['get']('data');var e=d['disableTTS']||![];if(e)return;if(b!=undefined&&this['t2sLastID']!=b||b==undefined){c=c||0x0;if(this['t2sLastID']&&c>this['t2sLastPriority']){return;}var f=d['tour'];var g=d['textToSpeechConfig'];var h=d['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var i=window['speechSynthesis'];if(i['speaking']){i['cancel']();}var j=new SpeechSynthesisUtterance(a);if(h)j['lang']=h;var k;if(g){j['volume']=g['volume'];j['pitch']=g['pitch'];j['rate']=g['rate'];if(g['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}j['onend']=function(){this['t2sLastID']=null;if(k)clearInterval(k);if(g['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){k=setInterval(function(){i['pause']();i['resume']();},0xbb8);}i['speak'](j);this['t2sLastPriority']=c;this['t2sLastID']=b;}else if(f['isMobileApp']()){if(!f['isIOS']()){var l=function(m,n){var o={'command':'tts','type':m};if(n)o=this['mixObject'](o,n);android['sendJSON'](JSON['stringify'](o));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(g['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);l('stop');if(g){l('init',{'volume':g['volume'],'pitch':g['pitch'],'rate':g['rate'],'language':h});if(g['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}l('play',{'text':a,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(a){var b=a['get']('class');var c;if(b=='HTMLText'){var d=a['get']('html');if(d){c=this['htmlToPlainText'](d,{'linkProcess':function(e,f){return f;}});}}else if(b=='BaseButton'){c=a['get']('label');}else if(b=='Label'){c=a['get']('text');}if(c){this['textToSpeech'](c,a['get']('id'));}};TDV['Tour']['Script']['_initTTSTooltips']=function(){function a(c){var d=c['source'];this['textToSpeech'](d['get']('toolTip'),d['get']('id'),0x1);}function b(c){var d=c['source'];this['stopTextToSpeech'](d['get']('id'));}setTimeout(function(){var c=this['getByClassName']('UIComponent');for(var d=0x0,e=c['length'];d<e;++d){var f=c[d];var g=f['get']('toolTip');if(!!g||f['get']('class')=='ViewerArea'){f['bind']('toolTipShow',a,this);f['bind']('toolTipHide',b,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(a){var b=this['getActivePlayerWithViewer'](a);if(b&&b['get']('class')=='PanoramaPlayer')b['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(a,b){var c=function(q,r){var s='';for(var t=0x0;t<r;t+=0x1){s+=q;}return s;};var d=null;var e=null;var f='underline';var g='indention';var h='-';var i=0x3;var j='-';var k=![];if(!!b){if(typeof b['linkProcess']==='function'){d=b['linkProcess'];}if(typeof b['imgProcess']==='function'){e=b['imgProcess'];}if(!!b['headingStyle']){f=b['headingStyle'];}if(!!b['listStyle']){g=b['listStyle'];}if(!!b['uIndentionChar']){h=b['uIndentionChar'];}if(!!b['listIndentionTabs']){i=b['listIndentionTabs'];}if(!!b['oIndentionChar']){j=b['oIndentionChar'];}if(!!b['keepNbsps']){k=b['keepNbsps'];}}var l=c(h,i);var m=String(a)['replace'](/\n|\r/g,'\x20');const n=m['match'](/<\/body>/i);if(n){m=m['substring'](0x0,n['index']);}const o=m['match'](/<body[^>]*>/i);if(o){m=m['substring'](o['index']+o[0x0]['length'],m['length']);}m=m['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');m=m['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');m=m['replace'](/<img([^>]*)>/gi,function(q,r){var s='';var t='';var u=/src="([^"]*)"/i['exec'](r);var v=/alt="([^"]*)"/i['exec'](r);if(u!==null){s=u[0x1];}if(v!==null){t=v[0x1];}if(typeof e==='function'){return e(s,t);}if(t===''){return'![image]\x20('+s+')';}return'!['+t+']\x20('+s+')';});function p(){return function(q,r,s,t){var u=0x0;if(s&&/start="([0-9]+)"/i['test'](s)){u=/start="([0-9]+)"/i['exec'](s)[0x1]-0x1;}var v='<p>'+t['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(w,x){var y=0x0;var z=x['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(r==='o'&&y===0x0){u+=0x1;y+=0x1;return'<br\x20/>'+u+c(j,i-String(u)['length']);}return'<br\x20/>'+l;});return z;})+'</p>';return v;};}if(g==='linebreak'){m=m['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(g==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](m)){m=m['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,p());}}if(f==='linebreak'){m=m['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(f==='underline'){m=m['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(q,r){return'\x0a&nbsp;\x0a'+r+'\x0a'+c('=',r['length'])+'\x0a&nbsp;\x0a';});m=m['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(q,r){return'\x0a&nbsp;\x0a'+r+'\x0a'+c('-',r['length'])+'\x0a&nbsp;\x0a';});m=m['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(q,r,s){return'\x0a&nbsp;\x0a'+s+'\x0a&nbsp;\x0a';});}else if(f==='hashify'){m=m['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(q,r,s){return'\x0a&nbsp;\x0a'+c('#',r)+'\x20'+s+'\x0a&nbsp;\x0a';});}m=m['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');m=m['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(q,r,s){if(typeof d==='function'){return d(r,s);}return'\x20['+s+']\x20('+r+')\x20';});m=m['replace'](/\n[ \t\f]*/gi,'\x0a');m=m['replace'](/\n\n+/gi,'\x0a');if(k){m=m['replace'](/( |\t)+/gi,'\x20');m=m['replace'](/&nbsp;/gi,'\x20');}else{m=m['replace'](/( |&nbsp;|\t)+/gi,'\x20');}m=m['replace'](/\n +/gi,'\x0a');m=m['replace'](/^ +/gi,'');while(m['indexOf']('\x0a')===0x0){m=m['substring'](0x1);}if(m['length']===0x0||m['lastIndexOf']('\x0a')!==m['length']-0x1){m+='\x0a';}return m;};TDV['Tour']['Script']['openEmbeddedPDF']=function(a,b){var c=!!window['MSInputMethodContext']&&!!document['documentMode'];if(c){this['openLink'](b,'_blank');return;}var d=a['get']('class');var e=!new RegExp('^(?:[a-z]+:)?//','i')['test'](b);if(e&&d=='WebFrame'){var f=location['origin']+location['pathname'];a['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(f['substring'](0x0,f['lastIndexOf']('/'))+'/'+b));}else{var g=location['origin']==new URL(b)['origin'];var h='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var i=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var j='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+b+'\x22,\x20\x22#content\x22,\x20{'+(g?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+h+'\x22,'+'\x22forcePDFJS\x22:\x20'+i+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+g+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(d=='WebFrame'){a['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+j+'</body>'+'</html>'));}else if(d=='HTML'){a['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(j));}}};TDV['Tour']['Script']['getKey']=function(a){return window[a];};TDV['Tour']['Script']['registerKey']=function(a,b){window[a]=b;};TDV['Tour']['Script']['unregisterKey']=function(a){delete window[a];};TDV['Tour']['Script']['existsKey']=function(a){return a in window;};
//# sourceMappingURL=script_v2022.1.15.js.map
//Generated with v2022.1.15, Tue Jul 12 2022